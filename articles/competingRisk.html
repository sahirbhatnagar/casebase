<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Competing risk analysis • casebase</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Competing risk analysis">
<meta property="og:description" content="casebase">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">casebase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.1.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/popTime.html">Population Time Plots</a>
    </li>
    <li>
      <a href="../articles/smoothHazard.html">Fitting smooth-in-time parametric hazard functions</a>
    </li>
    <li>
      <a href="../articles/plotsmoothHazard.html">Plotting Hazards and Hazard Ratios</a>
    </li>
    <li>
      <a href="../articles/plotabsRisk.html">Plot Cumulative Incidence and Survival Curves</a>
    </li>
    <li>
      <a href="../articles/competingRisk.html">Competing risk analysis using case-base sampling</a>
    </li>
    <li>
      <a href="../articles/customizingpopTime.html">Customizing Population Time Plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sahirbhatnagar/casebase/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Competing risk analysis</h1>
                        <h4 class="author">Maxime Turgeon</h4>
            
            <h4 class="date">2021-02-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sahirbhatnagar/casebase/blob/master/vignettes/competingRisk.Rmd"><code>vignettes/competingRisk.Rmd</code></a></small>
      <div class="hidden name"><code>competingRisk.Rmd</code></div>

    </div>

    
    
<div id="data" class="section level2">
<h2 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h2>
<p>We will use the same data that was used in Scrucca <em>et al</em> <span class="citation">(2010)</span>. The data was downloaded from the main author’s website; it is also available as part of this package.</p>
<!--Broken: http://www.stat.unipg.it/luca/R/ -->
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://sahirbhatnagar.com/casebase/">casebase</a></span><span class="op">)</span></code></pre></div>
<pre><code>## See example usage at http://sahirbhatnagar.com/casebase/</code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">bmtcrr</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">bmtcrr</span><span class="op">)</span></code></pre></div>
<pre><code>##   Sex   D   Phase Age Status Source  ftime
## 1   M ALL Relapse  48      2  BM+PB   0.67
## 2   F AML     CR2  23      1  BM+PB   9.50
## 3   M ALL     CR3   7      0  BM+PB 131.77
## 4   F ALL     CR2  26      2  BM+PB  24.03
## 5   F ALL     CR2  36      2  BM+PB   1.47
## 6   M ALL Relapse  17      2  BM+PB   2.23</code></pre>
<p>We will perform a competing risk analysis on data from 177 patients who received a stem cell transplant for acute leukemia. The event of interest in relapse, but other competing causes (e.g. transplant-related death) need to be taken into account. We also want to take into account the effect of several covariates such as Sex, Disease (lymphoblastic or myeloblastic leukemia, abbreviated as ALL and AML, respectively), Phase at transplant (Relapse, CR1, CR2, CR3), Source of stem cells (bone marrow and peripheral blood, coded as BM+PB, or peripheral blood, coded as PB), and Age. Below, we reproduce their Table 1:</p>
<table class="table">
<colgroup>
<col width="15%">
<col width="42%">
<col width="42%">
</colgroup>
<thead><tr class="header">
<th>Variable</th>
<th>Description</th>
<th>Statistical summary</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Sex</td>
<td>Sex</td>
<td>M=Male (100) <br> F=Female (77)</td>
</tr>
<tr class="even">
<td>D</td>
<td>Disease</td>
<td>ALL (73) <br> AML (104)</td>
</tr>
<tr class="odd">
<td>Phase</td>
<td>Phase</td>
<td>CR1 (47) <br> CR2 (45) <br> CR3 (12) <br> Relapse (73)</td>
</tr>
<tr class="even">
<td>Source</td>
<td>Type of transplant</td>
<td>BM+PB (21) <br> PB (156)</td>
</tr>
<tr class="odd">
<td>Age</td>
<td>Age of patient (years)</td>
<td>4–62 <br> 30.47 (13.04)</td>
</tr>
<tr class="even">
<td>Ftime</td>
<td>Failure time (months)</td>
<td>0.13–131.77 <br> 20.28 (30.78)</td>
</tr>
<tr class="odd">
<td>Status</td>
<td>Status indicator</td>
<td>0=censored (46) <br> 1=relapse (56) <br> 2=competing event (75)</td>
</tr>
</tbody>
</table>
<p>The statistical summary is generated differently for continuous and categorical variables:</p>
<ul>
<li><p>For continuous variables, we are given the range, followed by the mean and standard deviation.</p></li>
<li><p>For categorical variables, we are given the counts for each category.</p></li>
</ul>
<p>Note that failure time can also correspond to censoring.</p>
</div>
<div id="population-time-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#population-time-plots" class="anchor"></a>Population-time plots</h2>
<p>In order to try and visualize the incidence density of relapse, we can look at a population-time plot: on the X-axis we have time, and on the Y-axis we have the size of the risk set at a particular time point. Failure times associated to the event of interest can then be highlighted on the plot using red dots.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nobs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">bmtcrr</span><span class="op">)</span>
<span class="va">ftime</span> <span class="op">&lt;-</span> <span class="va">bmtcrr</span><span class="op">$</span><span class="va">ftime</span>
<span class="va">ord</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setorder.html">order</a></span><span class="op">(</span><span class="va">ftime</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># We split the person-moments in four categories:</span>
<span class="co"># 1) at-risk</span>
<span class="co"># 2) main event</span>
<span class="co"># 3) competing event</span>
<span class="co"># 4) censored</span>
<span class="va">yCoords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">bmtcrr</span><span class="op">[</span><span class="va">ord</span>, <span class="st">"Status"</span><span class="op">]</span> <span class="op">==</span> <span class="fl">2</span><span class="op">)</span>, 
                 <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">bmtcrr</span><span class="op">[</span><span class="va">ord</span>, <span class="st">"Status"</span><span class="op">]</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span>,
                 <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">bmtcrr</span><span class="op">[</span><span class="va">ord</span>, <span class="st">"Status"</span><span class="op">]</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="va">yCoords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">yCoords</span>, <span class="va">nobs</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">yCoords</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Plot only at-risk</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fl">0</span>, type <span class="op">=</span> <span class="st">'n'</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">nobs</span><span class="op">)</span>, 
     xlab <span class="op">=</span> <span class="st">'Follow-up time'</span>, ylab <span class="op">=</span> <span class="st">'Population'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>,
        <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">nobs</span>, <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">4</span><span class="op">]</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"grey90"</span><span class="op">)</span>
<span class="va">cases</span> <span class="op">&lt;-</span> <span class="va">bmtcrr</span><span class="op">[</span>, <span class="st">"Status"</span><span class="op">]</span> <span class="op">==</span> <span class="fl">1</span>

<span class="co"># randomly move the cases vertically</span>
<span class="va">moved_cases</span> <span class="op">&lt;-</span> <span class="va">yCoords</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fl">4</span><span class="op">]</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">cases</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="op">(</span><span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">]</span>, <span class="va">moved_cases</span>, pch <span class="op">=</span> <span class="fl">20</span>, 
       col <span class="op">=</span> <span class="st">"red"</span>, cex <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p><img src="competingRisk_files/figure-html/poptime1-1.png" width="700"></p>
<p>We can right away draw a few conclusions from this plot: first of all, we get a sense of how quickly the size of the risk set changes over time. We also see that the incidence density is non-constant: most relapses occur before 15 months. Finally, we also see that the risk set keeps shrinking after the last event has occurred; this could be due to either censoring or the competing event.</p>
<p>To get an idea of whether only relapse is responsible for the shrinking of the risk set in the first few months of follow-up, we can also keep track of how many events have occurred at each time point:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Plot at-risk and events</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fl">0</span>, type <span class="op">=</span> <span class="st">'n'</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">nobs</span><span class="op">)</span>, 
     xlab <span class="op">=</span> <span class="st">'Follow-up time'</span>, ylab <span class="op">=</span> <span class="st">'Population'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>, 
        y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, 
        col <span class="op">=</span> <span class="st">"firebrick3"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="va">ftime</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">ord</span><span class="op">)</span><span class="op">]</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
        y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">yCoords</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">4</span><span class="op">]</span><span class="op">)</span>, <span class="va">nobs</span>, <span class="fl">0</span><span class="op">)</span>, 
        col <span class="op">=</span> <span class="st">"grey90"</span><span class="op">)</span>

<span class="co"># randomly move the cases vertically</span>
<span class="va">moved_cases</span> <span class="op">&lt;-</span> <span class="va">yCoords</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="va">yCoords</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fl">4</span><span class="op">]</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">cases</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="op">(</span><span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">]</span>, <span class="va">moved_cases</span>, pch <span class="op">=</span> <span class="fl">20</span>,
       col <span class="op">=</span> <span class="st">"red"</span>, cex <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"topright"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Relapse"</span>, <span class="st">"At-risk"</span><span class="op">)</span>, 
       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"firebrick3"</span>, <span class="st">"grey90"</span><span class="op">)</span>,
       pch <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></code></pre></div>
<p><img src="competingRisk_files/figure-html/poptime2-1.png" width="700"></p>
<p>Therefore, there is also censoring and loss due to competing events happening in the first few months. However, with this plot, we can’t differentiate between the two contributions. For this reason we can also keep track of the number of competing events at each time point:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fl">0</span>, type <span class="op">=</span> <span class="st">'n'</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">nobs</span><span class="op">)</span>, 
     xlab <span class="op">=</span> <span class="st">'Follow-up time'</span>, ylab <span class="op">=</span> <span class="st">'Population'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>,
        y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="va">nobs</span>, <span class="va">nobs</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span>
<span class="co"># Event of interest</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>, 
        y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, 
        col <span class="op">=</span> <span class="st">"firebrick3"</span><span class="op">)</span>
<span class="co"># Risk set</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="va">ftime</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">ord</span><span class="op">)</span><span class="op">]</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
        y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">yCoords</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">4</span><span class="op">]</span><span class="op">)</span>, <span class="va">nobs</span>, <span class="fl">0</span><span class="op">)</span>, 
        col <span class="op">=</span> <span class="st">"grey90"</span><span class="op">)</span>
<span class="co"># Competing event</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>, 
        y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">nobs</span>, <span class="va">nobs</span> <span class="op">-</span> <span class="va">yCoords</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">nobs</span>, <span class="va">nobs</span><span class="op">)</span>, 
        col <span class="op">=</span> <span class="st">"dodgerblue2"</span><span class="op">)</span>

<span class="co"># randomly move the cases vertically</span>
<span class="va">moved_cases</span> <span class="op">&lt;-</span> <span class="va">yCoords</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="va">yCoords</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span>, <span class="fl">4</span><span class="op">]</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">cases</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="op">(</span><span class="va">ftime</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">)</span><span class="op">[</span><span class="va">cases</span><span class="op">[</span><span class="va">ord</span><span class="op">]</span><span class="op">]</span>, <span class="va">moved_cases</span>, pch <span class="op">=</span> <span class="fl">20</span>,
       col <span class="op">=</span> <span class="st">"red"</span>, cex <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"topright"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Relapse"</span>, <span class="st">"Competing event"</span>, <span class="st">"At-risk"</span><span class="op">)</span>, 
       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"firebrick3"</span>, <span class="st">"dodgerblue2"</span>, <span class="st">"grey90"</span><span class="op">)</span>,
       pch <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></code></pre></div>
<p><img src="competingRisk_files/figure-html/poptime3-1.png" width="700"></p>
<p>From this last plot, we can see that there is no censoring during the first 10 months. Moreover, we see that the last competing event occurs around 20 months. Putting all this information together, we have evidence of two types of patients: very sick patients who either relapse or have a competing event early on, and healthier patients who are eventually lost to follow-up.</p>
</div>
<div id="analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis" class="anchor"></a>Analysis</h2>
<p>We now turn to the analysis of this dataset. The population-time plots above give evidence of non-constant hazard; therefore, we will explicitly include time in the model. Note that we also include all other variables as possible confounders. First, we include time as a linear term:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fitSmoothHazard.html">fitSmoothHazard</a></span><span class="op">(</span><span class="va">Status</span> <span class="op">~</span> <span class="va">ftime</span> <span class="op">+</span> <span class="va">Sex</span> <span class="op">+</span> <span class="va">D</span> <span class="op">+</span> <span class="va">Phase</span> <span class="op">+</span> <span class="va">Source</span> <span class="op">+</span> <span class="va">Age</span>, 
                          data <span class="op">=</span> <span class="va">bmtcrr</span>, 
                          ratio <span class="op">=</span> <span class="fl">100</span>,
                          time <span class="op">=</span> <span class="st">"ftime"</span><span class="op">)</span>
<span class="fu"><a href="../reference/CompRisk-class.html">summary</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></code></pre></div>
<pre><code>## 
## Call:
## fitSmoothHazard(formula = Status ~ ftime + Sex + D + Phase + 
##     Source + Age, data = bmtcrr, time = "ftime", ratio = 100)
## 
## Coefficients: 
##                 Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept):1  -3.527146   0.685168  -5.148 2.63e-07 ***
## (Intercept):2  -2.648451   0.463012  -5.720 1.06e-08 ***
## ftime:1        -0.070927   0.014929  -4.751 2.02e-06 ***
## ftime:2        -0.105177   0.018349  -5.732 9.93e-09 ***
## SexM:1         -0.289067   0.283217  -1.021 0.307418    
## SexM:2         -0.382981   0.236935  -1.616 0.106008    
## DAML:1         -0.575749   0.299617  -1.922 0.054654 .  
## DAML:2         -0.100149   0.274099  -0.365 0.714833    
## PhaseCR2:1      0.186766   0.467042   0.400 0.689237    
## PhaseCR2:2      0.286425   0.332270   0.862 0.388673    
## PhaseCR3:1      0.586630   0.696521   0.842 0.399660    
## PhaseCR3:2      0.310781   0.530986   0.585 0.558353    
## PhaseRelapse:1  1.448907   0.391878   3.697 0.000218 ***
## PhaseRelapse:2  0.792938   0.307933   2.575 0.010023 *  
## SourcePB:1      0.456442   0.571108   0.799 0.424162    
## SourcePB:2     -1.013983   0.355666  -2.851 0.004359 ** 
## Age:1          -0.005242   0.011917  -0.440 0.660007    
## Age:2           0.028597   0.009929   2.880 0.003976 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Names of linear predictors: log(mu[,2]/mu[,1]), log(mu[,3]/mu[,1])
## 
## Residual deviance: 1409.076 on 26444 degrees of freedom
## 
## Log-likelihood: -704.5378 on 26444 degrees of freedom
## 
## Number of Fisher scoring iterations: 10 
## 
## Warning: Hauck-Donner effect detected in the following estimate(s):
## '(Intercept):1', '(Intercept):2', 'ftime:1', 'ftime:2'
## 
## 
## Reference group is level  1  of the response</code></pre>
<p>Because of the results in Turgeon <em>et al</em> <span class="citation">(n.d.)</span>, the standard errors we obtain from the multinomial logit fit are asymptotically correct, and therefore can be used to construct asymptotic confidence intervals.</p>
<p>From this summary, we see that time is indeed significant, as is Phase (only relapse vs. CR1). Interestingly, we see that the type of disease is only significant for the event of interest, whereas the type of transplant and the age of the patient are only significant for the competing event.</p>
<p>Next, we include the logarithm of time in the model (which leads to a Weibull hazard):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fitSmoothHazard.html">fitSmoothHazard</a></span><span class="op">(</span><span class="va">Status</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span> <span class="op">+</span> <span class="va">Sex</span> <span class="op">+</span> <span class="va">D</span> <span class="op">+</span> <span class="va">Phase</span> <span class="op">+</span> <span class="va">Source</span> <span class="op">+</span> <span class="va">Age</span>, 
                          data <span class="op">=</span> <span class="va">bmtcrr</span>, 
                          ratio <span class="op">=</span> <span class="fl">100</span>, 
                          time <span class="op">=</span> <span class="st">"ftime"</span><span class="op">)</span>
<span class="fu"><a href="../reference/CompRisk-class.html">summary</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></code></pre></div>
<pre><code>## 
## Call:
## fitSmoothHazard(formula = Status ~ log(ftime) + Sex + D + Phase + 
##     Source + Age, data = bmtcrr, time = "ftime", ratio = 100)
## 
## Coefficients: 
##                 Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept):1  -3.976762   0.699660  -5.684 1.32e-08 ***
## (Intercept):2  -3.069308   0.465495  -6.594 4.29e-11 ***
## log(ftime):1   -0.327063   0.069777  -4.687 2.77e-06 ***
## log(ftime):2   -0.403220   0.056786  -7.101 1.24e-12 ***
## SexM:1         -0.413731   0.291497  -1.419  0.15580    
## SexM:2         -0.521801   0.240157  -2.173  0.02980 *  
## DAML:1         -0.695303   0.306421  -2.269  0.02326 *  
## DAML:2         -0.180805   0.287170  -0.630  0.52895    
## PhaseCR2:1      0.252923   0.468205   0.540  0.58906    
## PhaseCR2:2      0.365004   0.332952   1.096  0.27296    
## PhaseCR3:1      0.441402   0.710580   0.621  0.53448    
## PhaseCR3:2      0.118189   0.535142   0.221  0.82521    
## PhaseRelapse:1  1.447889   0.394226   3.673  0.00024 ***
## PhaseRelapse:2  0.821988   0.309721   2.654  0.00796 ** 
## SourcePB:1      0.662955   0.598582   1.108  0.26806    
## SourcePB:2     -0.920304   0.370576  -2.483  0.01301 *  
## Age:1          -0.003153   0.011766  -0.268  0.78873    
## Age:2           0.028695   0.009869   2.908  0.00364 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Names of linear predictors: log(mu[,2]/mu[,1]), log(mu[,3]/mu[,1])
## 
## Residual deviance: 1508.083 on 26444 degrees of freedom
## 
## Log-likelihood: -754.0415 on 26444 degrees of freedom
## 
## Number of Fisher scoring iterations: 8 
## 
## Warning: Hauck-Donner effect detected in the following estimate(s):
## '(Intercept):1', '(Intercept):2'
## 
## 
## Reference group is level  1  of the response</code></pre>
<p>As we can see, the results are similar to the ones with a Gompertz hazard, although Sex is now significant for the competing event.</p>
<p>Finally, using splines, we can be quite flexible about the way the hazard depends on time:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fitSmoothHazard.html">fitSmoothHazard</a></span><span class="op">(</span>
    <span class="va">Status</span> <span class="op">~</span> <span class="fu">splines</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/splines/bs.html">bs</a></span><span class="op">(</span><span class="va">ftime</span><span class="op">)</span> <span class="op">+</span> <span class="va">Sex</span> <span class="op">+</span> <span class="va">D</span> <span class="op">+</span> <span class="va">Phase</span> <span class="op">+</span> <span class="va">Source</span> <span class="op">+</span> <span class="va">Age</span>, 
    data <span class="op">=</span> <span class="va">bmtcrr</span>, 
    ratio <span class="op">=</span> <span class="fl">100</span>, 
    time <span class="op">=</span> <span class="st">"ftime"</span><span class="op">)</span>
<span class="fu"><a href="../reference/CompRisk-class.html">summary</a></span><span class="op">(</span><span class="va">model3</span><span class="op">)</span></code></pre></div>
<pre><code>## 
## Call:
## fitSmoothHazard(formula = Status ~ splines::bs(ftime) + Sex + 
##     D + Phase + Source + Age, data = bmtcrr, time = "ftime", 
##     ratio = 100)
## 
## Coefficients: 
##                         Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept):1          -3.714285   0.697993  -5.321 1.03e-07 ***
## (Intercept):2          -3.168984   0.498239  -6.360 2.01e-10 ***
## splines::bs(ftime)1:1  -0.212237   2.256878  -0.094 0.925077    
## splines::bs(ftime)1:2   6.902278   3.669973   1.881 0.060007 .  
## splines::bs(ftime)2:1 -15.567038   8.068389      NA       NA    
## splines::bs(ftime)2:2 -76.712396  25.661616      NA       NA    
## splines::bs(ftime)3:1  -2.723383  10.472710      NA       NA    
## splines::bs(ftime)3:2  -2.864418  22.204096      NA       NA    
## SexM:1                 -0.283588   0.282655  -1.003 0.315715    
## SexM:2                 -0.420961   0.236815  -1.778 0.075470 .  
## DAML:1                 -0.623451   0.301696  -2.066 0.038782 *  
## DAML:2                 -0.127162   0.275996  -0.461 0.644985    
## PhaseCR2:1              0.120167   0.464896   0.258 0.796035    
## PhaseCR2:2              0.215708   0.330313   0.653 0.513729    
## PhaseCR3:1              0.494530   0.692452   0.714 0.475121    
## PhaseCR3:2              0.228801   0.525830   0.435 0.663473    
## PhaseRelapse:1          1.451148   0.392110   3.701 0.000215 ***
## PhaseRelapse:2          0.821627   0.310515   2.646 0.008145 ** 
## SourcePB:1              0.444775   0.571636   0.778 0.436526    
## SourcePB:2             -1.127417   0.358987  -3.141 0.001686 ** 
## Age:1                  -0.005600   0.011888  -0.471 0.637619    
## Age:2                   0.028070   0.009914   2.831 0.004634 ** 
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Names of linear predictors: log(mu[,2]/mu[,1]), log(mu[,3]/mu[,1])
## 
## Residual deviance: 1402.024 on 26440 degrees of freedom
## 
## Log-likelihood: -701.0122 on 26440 degrees of freedom
## 
## Number of Fisher scoring iterations: 16 
## 
## Warning: Hauck-Donner effect detected in the following estimate(s):
## '(Intercept):1', '(Intercept):2', 'splines::bs(ftime)2:1', 'splines::bs(ftime)2:2', 'splines::bs(ftime)3:1', 'splines::bs(ftime)3:2'
## 
## 
## Reference group is level  1  of the response</code></pre>
<p>Again, we see that the results are quite similar for this third model.</p>
<div id="absolute-risk" class="section level3">
<h3 class="hasAnchor">
<a href="#absolute-risk" class="anchor"></a>Absolute risk</h3>
<p>We now look at the 2-year risk of relapse:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linearRisk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/absoluteRisk.CompRisk.html">absoluteRisk</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">model1</span>, time <span class="op">=</span> <span class="fl">24</span>, newdata <span class="op">=</span> <span class="va">bmtcrr</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span><span class="op">)</span>
<span class="va">logRisk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/absoluteRisk.CompRisk.html">absoluteRisk</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">model2</span>, time <span class="op">=</span> <span class="fl">24</span>, newdata <span class="op">=</span> <span class="va">bmtcrr</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span><span class="op">)</span>
<span class="va">splineRisk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/absoluteRisk.CompRisk.html">absoluteRisk</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">model3</span>, time <span class="op">=</span> <span class="fl">24</span>, newdata <span class="op">=</span> <span class="va">bmtcrr</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">linearRisk</span>, <span class="va">logRisk</span>,
     xlab <span class="op">=</span> <span class="st">"Linear"</span>, ylab <span class="op">=</span> <span class="st">"Log/Spline"</span>, pch <span class="op">=</span> <span class="fl">19</span>,
     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">linearRisk</span>, <span class="va">splineRisk</span>,
       col <span class="op">=</span> <span class="st">'blue'</span>, pch <span class="op">=</span> <span class="fl">19</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="fl">1</span>, lty <span class="op">=</span> <span class="fl">2</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Log"</span>, <span class="st">"Spline"</span><span class="op">)</span>,
       pch <span class="op">=</span> <span class="fl">19</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="competingRisk_files/figure-html/absRiskPlot-1.png" width="700"></p>
</div>
</div>
<div id="session-information" class="section level2">
<h2 class="hasAnchor">
<a href="#session-information" class="anchor"></a>Session information</h2>
<pre><code>## R version 4.0.2 (2020-06-22)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 16.04.6 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/openblas-base/libblas.so.3
## LAPACK: /usr/lib/libopenblasp-r0.2.18.so
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] casebase_0.9.1.9999
## 
## loaded via a namespace (and not attached):
##  [1] highr_0.8         compiler_4.0.2    pillar_1.4.7      tools_4.0.2      
##  [5] digest_0.6.27     lattice_0.20-41   nlme_3.1-148      evaluate_0.14    
##  [9] memoise_2.0.0     lifecycle_0.2.0   tibble_3.0.6      gtable_0.3.0     
## [13] mgcv_1.8-31       pkgconfig_2.0.3   rlang_0.4.10      Matrix_1.2-18    
## [17] yaml_2.2.1        pkgdown_1.6.1     xfun_0.20         fastmap_1.1.0    
## [21] stringr_1.4.0     knitr_1.31        desc_1.2.0        fs_1.5.0         
## [25] vctrs_0.3.6       systemfonts_1.0.0 stats4_4.0.2      rprojroot_2.0.2  
## [29] grid_4.0.2        glue_1.4.2        data.table_1.13.6 R6_2.5.0         
## [33] textshaping_0.2.1 survival_3.1-12   VGAM_1.1-5        rmarkdown_2.6    
## [37] ggplot2_3.3.3     magrittr_2.0.1    scales_1.1.1      htmltools_0.5.1.1
## [41] ellipsis_0.3.1    splines_4.0.2     assertthat_0.2.1  colorspace_2.0-0 
## [45] ragg_0.4.1        stringi_1.5.3     munsell_0.5.0     cachem_1.0.3     
## [49] crayon_1.4.0</code></pre>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<ol>
<li>
<p>
Efron, Bradley. 1977. “The Efficiency of Cox’s Likelihood Function for Censored Data.” <em>Journal of the American Statistical Association</em> 72 (359). Taylor &amp; Francis Group: 557–65.
</p>
</li>
<li>
<p>
Hanley, James A, and Olli S Miettinen. 2009. “Fitting Smooth-in-Time Prognostic Risk Functions via Logistic Regression.” <em>The International Journal of Biostatistics</em> 5 (1).
</p>
</li>
<li>
<p>
Mantel, Nathan. 1973. “Synthetic Retrospective Studies and Related Topics.” <em>Biometrics</em>. JSTOR, 479–86.
</p>
</li>
<li>
<p>
Saarela, Olli. 2015. “A Case-Base Sampling Method for Estimating Recurrent Event Intensities.” <em>Lifetime Data Analysis</em>. Springer, 1–17.
</p>
</li>
<li>
<p>
Saarela, Olli, and Elja Arjas. 2015. “Non-Parametric Bayesian Hazard Regression for Chronic Disease Risk Assessment.” <em>Scandinavian Journal of Statistics</em> 42 (2). Wiley Online Library: 609–26.
</p>
</li>
<li>
<p>
Scrucca, L, A Santucci, and F Aversa. 2010. “Regression Modeling of Competing Risk Using R: An in Depth Guide for Clinicians.” <em>Bone Marrow Transplantation</em> 45 (9). Nature Publishing Group: 1388–95.
</p>
</li>
<li>
<p>
Kalbfleisch, John D., and Ross L. Prentice. The statistical analysis of failure time data. Vol. 360. John Wiley &amp; Sons, 2011.
</p>
</li>
<li>
<p>
Cox, D. R. “Regression models and life tables.” <em>Journal of the Royal Statistical Society</em> 34 (1972): 187-220.
</p>
</li>
</ol>
<div id="refs" class="references">
<div id="ref-scrucca2010regression">
<p>Scrucca, L., A. Santucci, and F. Aversa. 2010. “Regression Modeling of Competing Risk Using R: An in Depth Guide for Clinicians.” <em>Bone Marrow Transplantation</em> 45 (9). Nature Publishing Group: 1388–95.</p>
</div>
<div id="ref-turgeonCompRisk">
<p>Turgeon, M., S. Bhatnagar, and O. Saarela. n.d. “A Novel Approach to Competing Risk Analysis Using Case-Base Sampling.”</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://sahirbhatnagar.com/">Sahir Bhatnagar</a>, <a href="https://maxturgeon.ca/">Maxime Turgeon</a>, <a href="https://www.jesseislam.com/">Jesse Islam</a>, <a href="http://individual.utoronto.ca/osaarela/">Olli Saarela</a>, <a href="http://www.medicine.mcgill.ca/epidemiology/hanley/">James Hanley</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
