<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot Fitted Hazard Curve as a Funtion of Time — hazardPlot • casebase</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot Fitted Hazard Curve as a Funtion of Time — hazardPlot" />
<meta property="og:description" content="Visualize estimated hazard curves as a funtion of time with
confidence intervals. This function takes as input, the result from the
casebase::fitSmoothHazard() function. The user can also specify a
sequence of times at which to estimate the hazard function. These plots are
useful to visualize the non-proportional hazards, i.e., time dependent
interactions with a covariate." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">casebase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/popTime.html">Population Time Plots</a>
    </li>
    <li>
      <a href="../articles/smoothHazard.html">Fitting smooth-in-time parametric hazard functions</a>
    </li>
    <li>
      <a href="../articles/plotsmoothHazard.html">Plotting Hazards and Hazard Ratios</a>
    </li>
    <li>
      <a href="../articles/plotabsRisk.html">Plot Cumulative Incidence and Survival Curves</a>
    </li>
    <li>
      <a href="../articles/competingRisk.html">Competing risk analysis using case-base sampling</a>
    </li>
    <li>
      <a href="../articles/customizingpopTime.html">Customizing Population Time Plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sahirbhatnagar/casebase/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot Fitted Hazard Curve as a Funtion of Time</h1>
    <small class="dont-index">Source: <a href='https://github.com/sahirbhatnagar/casebase/blob/master/R/hazardPlot.R'><code>R/hazardPlot.R</code></a></small>
    <div class="hidden name"><code>hazardPlot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Visualize estimated hazard curves as a funtion of time with
confidence intervals. This function takes as input, the result from the
<code><a href='fitSmoothHazard.html'>casebase::fitSmoothHazard()</a></code> function. The user can also specify a
sequence of times at which to estimate the hazard function. These plots are
useful to visualize the non-proportional hazards, i.e., time dependent
interactions with a covariate.</p>
    </div>

    <pre class="usage"><span class='fu'>hazardPlot</span>(
  <span class='no'>object</span>,
  <span class='no'>newdata</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"hazard"</span>),
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>ci.lvl</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>line.col</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>ci.col</span> <span class='kw'>=</span> <span class='st'>"grey"</span>,
  <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span>(<span class='st'>"lty"</span>),
  <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>ci</span> <span class='kw'>=</span> !<span class='no'>add</span>,
  <span class='kw'>rug</span> <span class='kw'>=</span> !<span class='no'>add</span>,
  <span class='kw'>s</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"lambda.1se"</span>, <span class='st'>"lambda.min"</span>),
  <span class='kw'>times</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>Fitted object of class <code>glm</code>, <code>gam</code>, <code>cv.glmnet</code> or <code>gbm</code>. This
is the result from the <code><a href='fitSmoothHazard.html'>casebase::fitSmoothHazard()</a></code> function.</p></td>
    </tr>
    <tr>
      <th>newdata</th>
      <td><p>A data frame in which to look for variables with which to
predict. This is required and must contain all the variables used in the
model. Only one covariate profile can be used. If more than one row is
provided, only the first row will be used.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Type of plot. Currently, only "hazard" has been implemented.
Default: c("hazard")</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>x-axis label. Default: the name of the time variable from the
fitted <code>object</code>.</p></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>Number of points at which to estimate the hazard. This argument
is only used if argument <code>times=NULL</code>. This function will calculate a
sequence of times between the minimum and maximum of observed event times.
Default: 100.</p></td>
    </tr>
    <tr>
      <th>ci.lvl</th>
      <td><p>Confidence level. Must be in (0,1), Default: 0.95</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>y-axis label. Default: NULL which means the function will put
sensible defaults.</p></td>
    </tr>
    <tr>
      <th>line.col</th>
      <td><p>Line color, Default: 1. See <code><a href='https://rdrr.io/r/graphics/par.html'>graphics::par()</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>ci.col</th>
      <td><p>Confidence band color. Only used if argument <code>ci=TRUE</code>,
Default: 'grey'</p></td>
    </tr>
    <tr>
      <th>lty</th>
      <td><p>Line type. See <code><a href='https://rdrr.io/r/graphics/par.html'>graphics::par()</a></code> for details, Default: par("lty")</p></td>
    </tr>
    <tr>
      <th>add</th>
      <td><p>Logical; if TRUE add to an already existing plot; Default: FALSE</p></td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>Logical; if TRUE confidence bands are calculated. Only available
for <code>family="glm"</code> and <code>family="gam"</code>, Default: !add</p></td>
    </tr>
    <tr>
      <th>rug</th>
      <td><p>Logical. Adds a rug representation (1-d plot) of the event times
(only for <code>status=1</code>), Default: !add</p></td>
    </tr>
    <tr>
      <th>s</th>
      <td><p>Value of the penalty parameter lambda at which predictions are
required (for class <code>cv.glmnet</code> only). Only the first entry will be
used if more than one numeric value is provided, Default: c("lambda.1se",
"lambda.min")</p></td>
    </tr>
    <tr>
      <th>times</th>
      <td><p>Vector of numeric values at which the hazard should be
calculated. Default: NULL which means this function will use the minimum
and maximum of observed event times with the <code>breaks</code> argument.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further arguments passed to <code><a href='https://rdrr.io/r/graphics/matplot.html'>graphics::matplot()</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a plot of the hazard function and a data.frame of original data used
in the fitting along with the data used to create the plots including
<code>predictedhazard</code> which is the predicted hazard for a given covariate
pattern and time <code>predictedloghazard</code> is the predicted hazard on the log
scale. <code>lowerbound</code> and <code>upperbound</code> are the lower and upper confidence
interval bounds on the hazard scale (i.e. used to plot the confidence
bands). <code>standarderror</code> is the standard error of the log hazard (only if
<code>family="glm"</code> or <code>family="gam"</code>)</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is an earlier version of a function to plot hazards. We
recommend instead using the plot method for objects returned by
<code><a href='fitSmoothHazard.html'>casebase::fitSmoothHazard()</a></code>. See <code><a href='plot.singleEventCB.html'>casebase::plot.singleEventCB()</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='fitSmoothHazard.html'>casebase::fitSmoothHazard()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"simdat"</span>)
<span class='no'>mod_cb</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='fitSmoothHazard.html'>fitSmoothHazard</a></span>(<span class='no'>status</span> ~ <span class='no'>trt</span> * <span class='no'>eventtime</span>,
                                    <span class='kw'>time</span> <span class='kw'>=</span> <span class='st'>"eventtime"</span>,
                                    <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>simdat</span>[<span class='fl'>1</span>:<span class='fl'>200</span>,],
                                    <span class='kw'>ratio</span> <span class='kw'>=</span> <span class='fl'>1</span>,
                                    <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"glm"</span>)

<span class='no'>results0</span> <span class='kw'>&lt;-</span> <span class='fu'>hazardPlot</span>(<span class='kw'>object</span> <span class='kw'>=</span> <span class='no'>mod_cb</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>trt</span> <span class='kw'>=</span> <span class='fl'>0</span>),
           <span class='kw'>ci.lvl</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>ci</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>line.col</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>results0</span>)</div><div class='output co'>#&gt;     trt eventtime offset predictedloghazard predictedhazard
#&gt; 1     0 0.2695865      0          -2.186588       0.1122993
#&gt; 1.1   0 0.3173684      0          -2.164438       0.1148144
#&gt; 1.2   0 0.3651504      0          -2.142289       0.1173859
#&gt; 1.3   0 0.4129323      0          -2.120139       0.1200149
#&gt; 1.4   0 0.4607143      0          -2.097989       0.1227029
#&gt; 1.5   0 0.5084963      0          -2.075840       0.1254510</div><div class='input'><span class='fu'>hazardPlot</span>(<span class='kw'>object</span> <span class='kw'>=</span> <span class='no'>mod_cb</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(<span class='kw'>trt</span> <span class='kw'>=</span> <span class='fl'>1</span>), <span class='kw'>ci</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
           <span class='kw'>ci.lvl</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>line.col</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/legend.html'>legend</a></span>(<span class='st'>"topleft"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"trt=0"</span>,<span class='st'>"trt=1"</span>),<span class='kw'>lty</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>2</span>,<span class='kw'>col</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>2</span>,<span class='kw'>bty</span><span class='kw'>=</span><span class='st'>"y"</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='img'><img src='hazardPlot-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://sahirbhatnagar.com/'>Sahir Bhatnagar</a>, <a href='https://maxturgeon.ca/'>Maxime Turgeon</a>, <a href='https://www.jesseislam.com/'>Jesse Islam</a>, <a href='http://individual.utoronto.ca/osaarela/'>Olli Saarela</a>, <a href='http://www.medicine.mcgill.ca/epidemiology/hanley/'>James Hanley</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


